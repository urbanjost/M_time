<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   
   <meta name="description" content="interactive input editor">
    
    <meta name="author" content="John S. Urban" >
    <link rel="icon" href="../favicon.png">

    <title>days2sec &ndash; M_time</title>

    <link href="../css/bootstrap.min.css" rel="stylesheet">
    <link href="../css/pygments.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/local.css" rel="stylesheet">
    
    <link  href="../tipuesearch/tipuesearch.css" rel="stylesheet">
    
    

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <script src="../js/jquery-2.1.3.min.js"></script>
    <script src="../js/svg-pan-zoom.min.js"></script>

  </head>

  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../index.html">M_time </a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
        
            <li class="dropdown hidden-xs visible-sm visible-md hidden-lg">
              <a href="#" class="dropdown-toggle"
              data-toggle="dropdown" role="button"
              aria-haspopup="true"
     aria-expanded="false">Contents <span class="caret"></span></a>
        <ul class="dropdown-menu">
          
              
            <li><a href="../lists/files.html">Source Files</a></li>
        
        
        
            <li><a href="../lists/modules.html">Modules</a></li>
        
            
                                
            <li><a href="../lists/procedures.html">Procedures</a></li>
        
               
            <li><a href="../lists/types.html">Derived Types</a></li>
        
        
            <li><a href="../lists/programs.html">Programs</a></li>
        
            </ul>
            </li>


<li class="visible-xs hidden-sm visible-lg"><a href="../lists/files.html">Source Files</a></li>



<li class="visible-xs hidden-sm visible-lg"><a href="../lists/modules.html">Modules</a></li>



<li class="visible-xs hidden-sm visible-lg"><a href="../lists/procedures.html">Procedures</a></li>

                             
<li class="visible-xs hidden-sm visible-lg"><a href="../lists/types.html">Derived Types</a></li>


<li class="visible-xs hidden-sm visible-lg"><a href="../lists/programs.html">Programs</a></li>

          </ul>
        
        <form action="../search.html" class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
        </div>
<!--
        <button type="submit" class="btn btn-default">Submit</button>
-->
        </form>
        
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
    
  
  <div class="row">
    <h1>days2sec
      <small>Function</small>
    
    </h1>
    
<div class="row">
  <div class="col-lg-12">
<div class="well well-sm">
  <ul class="list-inline" style="margin-bottom:0px;display:inline">
     
     
     
     
    
    
     <li><i class="fa fa-list-ol"></i>
       <a data-toggle="tooltip"
    data-placement="bottom" data-html="true"
    title=" 3.4% of total for procedures.">89 statements</a>
     </li> 
     
     
     
    <li><i class="fa fa-code"></i><a href="../src/M_time.f90"> Source File</a></li>
     
     
  </ul>
  <ol class="breadcrumb in-well text-right">
  
    
     <li><a href='../sourcefile/m_time.f90.html'>M_time.f90</a></li>
    
     <li><a href='../module/m_time.html'>M_time</a></li>
    
  
     <li class="active">days2sec</li>
  </ol>
</div>
</div>
</div>
<script>
  $(function () {
  $('[data-toggle="tooltip"]').tooltip()
  })
</script>

  </div>
  
  <div class="row">
    <div class="col-md-3 hidden-xs hidden-sm visible-md visible-lg">
    
<div id="sidebar">
  
<h3>Contents</h3>
 



<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#vars-0">Variables</a></h3></div>
  <div id="vars-0" class="panel-collapse collapse">
    <div class="list-group">
      
      <a class="list-group-item" href="../proc/days2sec.html#variable-array~2">array</a>
      
      <a class="list-group-item" href="../proc/days2sec.html#variable-i~6">i</a>
      
      <a class="list-group-item" href="../proc/days2sec.html#variable-icount~2">icount</a>
      
      <a class="list-group-item" href="../proc/days2sec.html#variable-ilast">ilast</a>
      
      <a class="list-group-item" href="../proc/days2sec.html#variable-iwords">iwords</a>
      
      <a class="list-group-item" href="../proc/days2sec.html#variable-negative">negative</a>
      
      <a class="list-group-item" href="../proc/days2sec.html#variable-strlocal">strlocal</a>
      
      <a class="list-group-item" href="../proc/days2sec.html#variable-units_hl">units_hl</a>
      
      <a class="list-group-item" href="../proc/days2sec.html#variable-units_lh">units_lh</a>
      
    </div>
  </div>
</div>




















<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title">Source Code</h3></div>
  <div class="list-group">
    <a class="list-group-item" href="../proc/days2sec.html#src">days2sec</a>
  </div>
</div>



</div>

    </div>
    
    <div class="col-md-9" id='text'>
    <h2>
public function days2sec(str) result(time)
    
    
   
</h2>
    
  


    
    <h2 id="name">NAME</h2>
<div class="codehilite"><pre><span></span><code><span class="c">days2sec(3f) </span><span class="nb">-</span><span class="c"> </span><span class="k">[</span><span class="c">M_time:DURATION</span><span class="k">]</span><span class="c"> convert string of form</span>
<span class="k">[[</span><span class="nb">-</span><span class="k">]</span><span class="c">dd</span><span class="nb">-</span><span class="k">]</span><span class="c">hh:mm:ss</span><span class="nt">.</span><span class="c">nn to seconds</span>
<span class="c">(LICENSE:PD)</span>
</code></pre></div>

<h2 id="synopsis">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code><span class="k">function</span><span class="w"> </span><span class="nf">days2sec(str) result</span><span class="p">(</span>time<span class="p">)</span><span class="w"></span>

<span class="w"> </span><span class="n">character</span><span class="p">(</span><span class="n">len</span><span class="p">=</span><span class="o">*</span><span class="p">),</span><span class="n">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w">       </span><span class="p">::</span><span class="w"> </span><span class="n">str</span><span class="w"></span>
<span class="w"> </span><span class="nb">real</span><span class="p">(</span><span class="n">kind</span><span class="p">=</span><span class="n">realtime</span><span class="p">)</span><span class="w">               </span><span class="p">::</span><span class="w"> </span><span class="nb">time</span><span class="w"></span>
</code></pre></div>

<h2 id="description">DESCRIPTION</h2>
<p>Given a string representing a duration of the form
   &ldquo;[-][[[dd-]hh:]mm:]ss&rdquo;  or [NNd][NNh][NNm[]NNs][NNw]
   return a value representing seconds.</p>
<p>If &ldquo;dd-&rdquo; is present, units for the numbers are assumed to
   proceed from day to hour to minute to second. But if no
   day is present, the units are assumed to proceed from second
   to minutes to hour from left to right. That is &hellip;</p>
<div class="codehilite"><pre><span></span><code><span class="c">     </span><span class="k">[</span><span class="nb">-</span><span class="k">]</span><span class="c">dd</span><span class="nb">-</span><span class="c">hh:mm:ss</span>
<span class="c">     </span><span class="k">[</span><span class="nb">-</span><span class="k">]</span><span class="c">dd</span><span class="nb">-</span><span class="c">hh:mm</span>
<span class="c">     </span><span class="k">[</span><span class="nb">-</span><span class="k">]</span><span class="c">dd</span><span class="nb">-</span><span class="c">hh</span>

<span class="c">     hh:mm:ss</span>
<span class="c">     mm:ss</span>
<span class="c">     ss</span>

<span class="c">     Where dd is days</span><span class="nt">,</span><span class="c"> hh hours</span><span class="nt">,</span><span class="c"> mm minutes and ss seconds</span><span class="nt">.</span><span class="c"></span>
</code></pre></div>

<p>A decimal fraction is supported on the seconds (Actually,
   any of the numeric values may represent positive floating
   point numbers). Spaces are ignored.</p>
<p>Simple numeric values may also be used with unit suffixes; where
   s,m,h, or d represents seconds, minutes, hours or days and w
   represents a week. Allowed aliases for w,d,h,m, and s units are</p>
<div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="o">[</span><span class="n">NNd</span><span class="o">][</span><span class="n">NNh</span><span class="o">][</span><span class="n">NNm</span><span class="o">][</span><span class="n">NNs</span><span class="o">][</span><span class="n">NNw</span><span class="o">]</span><span class="w"></span>

<span class="w">      </span><span class="n">d</span><span class="w"> </span><span class="o">-</span><span class="w">  </span><span class="n">days</span><span class="p">,</span><span class="nf">day</span><span class="w"></span>
<span class="w">      </span><span class="n">m</span><span class="w"> </span><span class="o">-</span><span class="w">  </span><span class="n">minutes</span><span class="p">,</span><span class="k">minute</span><span class="p">,</span><span class="nf">min</span><span class="p">,</span><span class="n">mins</span><span class="w"></span>
<span class="w">      </span><span class="n">h</span><span class="w"> </span><span class="o">-</span><span class="w">  </span><span class="n">hours</span><span class="p">,</span><span class="k">hour</span><span class="p">,</span><span class="n">hr</span><span class="p">,</span><span class="n">hrs</span><span class="w"></span>
<span class="w">      </span><span class="n">s</span><span class="w"> </span><span class="o">-</span><span class="w">  </span><span class="n">seconds</span><span class="p">,</span><span class="k">second</span><span class="p">,</span><span class="n">sec</span><span class="p">,</span><span class="n">secs</span><span class="w"></span>
<span class="w">      </span><span class="n">w</span><span class="w"> </span><span class="o">-</span><span class="w">  </span><span class="n">week</span><span class="p">,</span><span class="w"> </span><span class="n">weeks</span><span class="p">,</span><span class="w"> </span><span class="n">wk</span><span class="p">,</span><span class="w"> </span><span class="n">wks</span><span class="w"></span>
</code></pre></div>

<p>The numeric values may represent floating point numbers.</p>
<p>Spaces, commas and case are ignored.</p>
<h2 id="options">OPTIONS</h2>
<div class="codehilite"><pre><span></span><code>   str   string of the general form dd-hh:mm:ss.nn
</code></pre></div>

<h2 id="returns">RETURNS</h2>
<div class="codehilite"><pre><span></span><code>   time  the number of seconds represented by the input string
</code></pre></div>

<h2 id="example">EXAMPLE</h2>
<div class="codehilite"><pre><span></span><code><span class="nv">Sample</span> <span class="nv">program</span>:

 <span class="nv">program</span> <span class="nv">demo_days2sec</span>
 <span class="nv">use</span> <span class="nv">M_time</span>, <span class="nv">only</span> : <span class="nv">days2sec</span>
 <span class="nv">implicit</span> <span class="nv">none</span>
    <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="nv">days2sec</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">1-12:04:20</span><span class="s1">&#39;</span><span class="ss">)</span>
    <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">one second </span><span class="s1">&#39;</span>,<span class="nv">days2sec</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">1</span><span class="s1">&#39;</span><span class="ss">)</span>
    <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">one minute </span><span class="s1">&#39;</span>,<span class="nv">days2sec</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">1:00</span><span class="s1">&#39;</span><span class="ss">)</span>
    <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">one hour </span><span class="s1">&#39;</span>,<span class="nv">days2sec</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">1:00:00</span><span class="s1">&#39;</span><span class="ss">)</span>
    <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="s1">&#39;</span><span class="s">one day </span><span class="s1">&#39;</span>,<span class="nv">days2sec</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s">1-00:00:00</span><span class="s1">&#39;</span><span class="ss">)</span>
    <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="nv">nint</span><span class="ss">(</span><span class="nv">days2sec</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> 1-12:04:20              </span><span class="s1">&#39;</span><span class="ss">))</span> .<span class="nv">eq</span>. <span class="mi">129860</span>
    <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="nv">nint</span><span class="ss">(</span><span class="nv">days2sec</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> 1.5 days                </span><span class="s1">&#39;</span><span class="ss">))</span> .<span class="nv">eq</span>. <span class="mi">129600</span>
    <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="nv">nint</span><span class="ss">(</span><span class="nv">days2sec</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> 1.5 days 4hrs 30minutes </span><span class="s1">&#39;</span><span class="ss">))</span> .<span class="nv">eq</span>. <span class="mi">145800</span>
    <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="nv">nint</span><span class="ss">(</span><span class="nv">days2sec</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> 1.5d                    </span><span class="s1">&#39;</span><span class="ss">))</span> .<span class="nv">eq</span>. <span class="mi">129600</span>
    <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="nv">nint</span><span class="ss">(</span><span class="nv">days2sec</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> 1d2h3m4s                </span><span class="s1">&#39;</span><span class="ss">))</span> .<span class="nv">eq</span>. <span class="mi">93784</span>
    <span class="o">!</span> <span class="nv">duplicates</span>
    <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="nv">nint</span><span class="ss">(</span><span class="nv">days2sec</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> 1d1d1d                  </span><span class="s1">&#39;</span><span class="ss">))</span> .<span class="nv">eq</span>. <span class="mi">259200</span>
    <span class="o">!</span> <span class="nv">negative</span> <span class="nv">values</span>
    <span class="nv">write</span><span class="ss">(</span><span class="o">*</span>,<span class="o">*</span><span class="ss">)</span><span class="nv">nint</span><span class="ss">(</span><span class="nv">days2sec</span><span class="ss">(</span><span class="s1">&#39;</span><span class="s"> 4d-12h                  </span><span class="s1">&#39;</span><span class="ss">))</span> .<span class="nv">eq</span>. <span class="mi">302400</span>
 <span class="k">end</span> <span class="nv">program</span> <span class="nv">demo_days2sec</span>

<span class="nv">Results</span>:

 <span class="o">&gt;</span> <span class="mi">129860</span>.<span class="mi">00000000000</span>
 <span class="o">&gt;</span> <span class="nv">one</span> <span class="nv">second</span>    <span class="mi">1</span>.<span class="mi">0000000000000000</span>
 <span class="o">&gt;</span> <span class="nv">one</span> <span class="nv">minute</span>    <span class="mi">60</span>.<span class="mi">000000000000000</span>
 <span class="o">&gt;</span> <span class="nv">one</span> <span class="nv">hour</span>    <span class="mi">3600</span>.<span class="mi">0000000000000</span>
 <span class="o">&gt;</span> <span class="nv">one</span> <span class="nv">day</span>    <span class="mi">86400</span>.<span class="mi">000000000000</span>
 <span class="o">&gt;</span> <span class="nv">T</span>
 <span class="o">&gt;</span> <span class="nv">T</span>
 <span class="o">&gt;</span> <span class="nv">T</span>
 <span class="o">&gt;</span> <span class="nv">T</span>
 <span class="o">&gt;</span> <span class="nv">T</span>
 <span class="o">&gt;</span> <span class="nv">T</span>
 <span class="o">&gt;</span> <span class="nv">T</span>
</code></pre></div>

<h2 id="author">AUTHOR</h2>
<div class="codehilite"><pre><span></span><code>John S. Urban, 2015
</code></pre></div>

<h2 id="license">LICENSE</h2>
<div class="codehilite"><pre><span></span><code>Public Domain
</code></pre></div>
    

    <h3>Arguments</h3>
    
      
<table class="table table-striped varlist">
<thead><tr><th>Type</th>
<th>Intent</th><th>Optional</th>
<th>Attributes</th><th></th><th>Name</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-str~5"></span>character(len=*),</td>
  <td>intent(in)</td>
  <td></td>
  
  <td></td><td>::</td>
  <td><strong>str</strong></td><td></td>
  
</tr>

</tbody>
</table>

    
    
    
    
    
    
    
   <h3>Return Value <small><span class="anchor" id="variable-time"></span>real(kind=realtime)
  </small></h3>
    
    
    
    
     
    <br>

    <section class="visible-xs visible-sm hidden-md">
      
<h3>Contents</h3>
 



<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title"><a data-toggle="collapse" href="#vars-1">Variables</a></h3></div>
  <div id="vars-1" class="panel-collapse collapse">
    <div class="list-group">
      
      <a class="list-group-item" href="../proc/days2sec.html#variable-array~2">array</a>
      
      <a class="list-group-item" href="../proc/days2sec.html#variable-i~6">i</a>
      
      <a class="list-group-item" href="../proc/days2sec.html#variable-icount~2">icount</a>
      
      <a class="list-group-item" href="../proc/days2sec.html#variable-ilast">ilast</a>
      
      <a class="list-group-item" href="../proc/days2sec.html#variable-iwords">iwords</a>
      
      <a class="list-group-item" href="../proc/days2sec.html#variable-negative">negative</a>
      
      <a class="list-group-item" href="../proc/days2sec.html#variable-strlocal">strlocal</a>
      
      <a class="list-group-item" href="../proc/days2sec.html#variable-units_hl">units_hl</a>
      
      <a class="list-group-item" href="../proc/days2sec.html#variable-units_lh">units_lh</a>
      
    </div>
  </div>
</div>




















<div class="panel panel-primary">
  <div class="panel-heading text-left"><h3 class="panel-title">Source Code</h3></div>
  <div class="list-group">
    <a class="list-group-item" href="../proc/days2sec.html#src">days2sec</a>
  </div>
</div>



    </section>
    <br class="visible-xs visible-sm hidden-md">

    

    
    <section>    
      <h2>Variables</h2>
    
<table class="table table-striped varlist">
<thead><tr><th>Type</th><th>Visibility</th>

<th>Attributes</th><th></th><th>Name</th><th></th><th>Initial</th><th></th></thead>



<tbody>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-array~2"></span>character(len=:),</td>
  
  <td>public,</td>
  <td>allocatable</td><td>::</td>
  <td><strong>array</strong>(:)</td><td></td><td></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-i~6"></span>integer,</td>
  
  <td>public</td>
  <td></td><td>::</td>
  <td><strong>i</strong></td><td></td><td></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-icount~2"></span>integer,</td>
  
  <td>public</td>
  <td></td><td>::</td>
  <td><strong>icount</strong></td><td></td><td></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-ilast"></span>integer,</td>
  
  <td>public</td>
  <td></td><td>::</td>
  <td><strong>ilast</strong></td><td></td><td></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-iwords"></span>integer,</td>
  
  <td>public</td>
  <td></td><td>::</td>
  <td><strong>iwords</strong></td><td></td><td></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-negative"></span>logical,</td>
  
  <td>public</td>
  <td></td><td>::</td>
  <td><strong>negative</strong></td><td></td><td></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-strlocal"></span>character(len=:),</td>
  
  <td>public,</td>
  <td>allocatable</td><td>::</td>
  <td><strong>strlocal</strong></td><td></td><td></td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-units_hl"></span>real(kind=realtime),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>units_hl</strong>(4)</td><td> =</td><td>[86400.0d0, 3600.0d0, 60.0d0, 1.0d0]</td><td></td>
  
</tr>

  
  
  
  
<tr>
  
  <td><span class="anchor" id="variable-units_lh"></span>real(kind=realtime),</td>
  
  <td>public,</td>
  <td>parameter</td><td>::</td>
  <td><strong>units_lh</strong>(4)</td><td> =</td><td>[1.0d0, 60.0d0, 3600.0d0, 86400.0d0]</td><td></td>
  
</tr>

</tbody>
</table>

    </section>
    <br>
    
    
    
    
    

    
    
    
    
    


    
    
    
    <section>
    <h2><span class="anchor" id="src"></span>Source Code</h2>
    <div class="highlight"><pre><span></span><span class="k">function </span><span class="n">days2sec</span><span class="p">(</span><span class="n">str</span><span class="p">)</span> <span class="k">result</span><span class="p">(</span><span class="nb">time</span><span class="p">)</span>
<span class="k">implicit none</span>

<span class="c">! ident_26=&quot;@(#)M_time::days2sec(3f): convert string [[-]dd-]hh:mm:ss.nn to seconds or string IId JJh KKm LLs to seconds&quot;</span>

<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span>       <span class="kd">::</span> <span class="n">str</span>
<span class="kt">real</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="n">realtime</span><span class="p">)</span>               <span class="kd">::</span> <span class="nb">time</span>
<span class="c">! Supported input syntax:</span>
<span class="c">!    [-]dd-hh:mm:ss</span>
<span class="c">!          hh:mm:ss</span>
<span class="c">!          mm:ss</span>
<span class="c">!          ss</span>
<span class="c">!</span>
<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="p">:),</span><span class="k">allocatable</span>      <span class="kd">::</span> <span class="n">strlocal</span>
<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="p">:),</span><span class="k">allocatable</span>      <span class="kd">::</span> <span class="k">array</span><span class="p">(:)</span>
<span class="kt">real</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="n">realtime</span><span class="p">),</span> <span class="k">parameter</span>    <span class="kd">::</span> <span class="n">units_lh</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">=</span><span class="p">[</span> <span class="mf">1.0d0</span><span class="p">,</span> <span class="mi">6</span><span class="mf">0.0d0</span><span class="p">,</span> <span class="mi">360</span><span class="mf">0.0d0</span><span class="p">,</span> <span class="mi">8640</span><span class="mf">0.0d0</span> <span class="p">]</span>
<span class="kt">real</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="n">realtime</span><span class="p">),</span> <span class="k">parameter</span>    <span class="kd">::</span> <span class="n">units_hl</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">=</span><span class="p">[</span> <span class="mi">8640</span><span class="mf">0.0d0</span><span class="p">,</span> <span class="mi">360</span><span class="mf">0.0d0</span><span class="p">,</span> <span class="mi">6</span><span class="mf">0.0d0</span><span class="p">,</span> <span class="mf">1.0d0</span> <span class="p">]</span>
<span class="kt">integer</span>                           <span class="kd">::</span> <span class="n">i</span><span class="p">,</span> <span class="n">icount</span><span class="p">,</span> <span class="n">iwords</span><span class="p">,</span> <span class="n">ilast</span>
<span class="kt">logical</span>                           <span class="kd">::</span> <span class="n">negative</span>

   <span class="nb">time</span><span class="o">=</span><span class="mf">0.0d0</span>
   <span class="n">strlocal</span><span class="o">=</span><span class="n">compact</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>                              <span class="c">! remove whitespace</span>
   <span class="n">strlocal</span><span class="o">=</span><span class="n">transliterate</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s2">&quot;_&#39;,&quot;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>             <span class="c">! remove single quotes,underscores sometimes used in numbers</span>
   <span class="n">strlocal</span><span class="o">=</span><span class="n">lower</span><span class="p">(</span><span class="n">strlocal</span><span class="p">)</span><span class="o">//</span><span class="nb">repeat</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">strlocal</span><span class="p">))</span>   <span class="c">! change to lowercase and add whitespace to make room for spaces</span>

   <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">strlocal</span><span class="p">).</span><span class="n">eq</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span><span class="k">then</span>
<span class="k">      </span><span class="nb">time</span><span class="o">=</span><span class="mf">0.0d0</span>
   <span class="n">elseif</span><span class="p">(</span><span class="nb">scan</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;smhdw&#39;</span><span class="p">).</span><span class="n">ne</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span><span class="k">then</span>               <span class="c">! unit code values not DD-HH:MM:SS either plain number or unit numbers</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;days&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>               <span class="c">! from long names to short names substitute common aliases for units</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;day&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;hours&#39;</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;hour&#39;</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;hrs&#39;</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;hr&#39;</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;minutes&#39;</span><span class="p">,</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;minute&#39;</span><span class="p">,</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;mins&#39;</span><span class="p">,</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;min&#39;</span><span class="p">,</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;seconds&#39;</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;second&#39;</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;secs&#39;</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;sec&#39;</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;weeks&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;week&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;wks&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;wk&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>

      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">,</span><span class="s1">&#39;s &#39;</span><span class="p">)</span>          <span class="c">! assuming only one suffix character and not too many to exceed length of strlocal</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;m&#39;</span><span class="p">,</span><span class="s1">&#39;m &#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">,</span><span class="s1">&#39;h &#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="s1">&#39;d &#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">,</span><span class="s1">&#39;w &#39;</span><span class="p">)</span>
      <span class="k">call </span><span class="n">split</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="k">array</span><span class="p">,</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
      <span class="n">iwords</span><span class="o">=</span><span class="n">size</span><span class="p">(</span><span class="k">array</span><span class="p">)</span>
      <span class="n">icount</span><span class="o">=</span><span class="mi">0</span>
      <span class="k">do </span><span class="n">i</span><span class="o">=</span><span class="n">iwords</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span>
         <span class="n">icount</span><span class="o">=</span><span class="n">icount</span><span class="o">+</span><span class="mi">1</span>
         <span class="n">ilast</span><span class="o">=</span><span class="nb">len_trim</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
         <span class="k">select case</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">)(</span><span class="n">ilast</span><span class="p">:</span><span class="n">ilast</span><span class="p">))</span>
         <span class="k">case</span><span class="p">(</span><span class="s1">&#39;w&#39;</span><span class="p">);</span> <span class="nb">time</span><span class="o">=</span><span class="nb">time</span><span class="o">+</span><span class="n">s2v</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">)(:</span><span class="n">ilast</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">*</span><span class="n">units_hl</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">7</span>
         <span class="k">case</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">);</span> <span class="nb">time</span><span class="o">=</span><span class="nb">time</span><span class="o">+</span><span class="n">s2v</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">)(:</span><span class="n">ilast</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">*</span><span class="n">units_hl</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
         <span class="k">case</span><span class="p">(</span><span class="s1">&#39;h&#39;</span><span class="p">);</span> <span class="nb">time</span><span class="o">=</span><span class="nb">time</span><span class="o">+</span><span class="n">s2v</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">)(:</span><span class="n">ilast</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">*</span><span class="n">units_hl</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
         <span class="k">case</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">);</span> <span class="nb">time</span><span class="o">=</span><span class="nb">time</span><span class="o">+</span><span class="n">s2v</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">)(:</span><span class="n">ilast</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">*</span><span class="n">units_hl</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
         <span class="k">case</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">);</span> <span class="nb">time</span><span class="o">=</span><span class="nb">time</span><span class="o">+</span><span class="n">s2v</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">)(:</span><span class="n">ilast</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">*</span><span class="n">units_hl</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
         <span class="k">case </span><span class="n">default</span>
            <span class="nb">time</span><span class="o">=</span><span class="nb">time</span><span class="o">+</span><span class="n">s2v</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
         <span class="k">end select</span>
<span class="k">      enddo</span>
<span class="k">   else</span>

<span class="k">      if</span><span class="p">(</span><span class="n">strlocal</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">).</span><span class="n">eq</span><span class="p">.</span><span class="s1">&#39;-&#39;</span><span class="p">)</span><span class="k">then</span>          <span class="c">! allow negative prefix as first character but remove it and change sign of value at end</span>
         <span class="n">negative</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
         <span class="n">strlocal</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">)</span><span class="o">=</span><span class="s1">&#39; &#39;</span>
      <span class="k">else</span>
<span class="k">         </span><span class="n">negative</span><span class="o">=</span><span class="p">.</span><span class="n">false</span><span class="p">.</span>
      <span class="k">endif</span>

<span class="k">      call </span><span class="n">split</span><span class="p">(</span><span class="nb">trim</span><span class="p">(</span><span class="n">strlocal</span><span class="p">),</span><span class="k">array</span><span class="p">,</span><span class="s1">&#39; -:&#39;</span><span class="p">)</span>
      <span class="n">iwords</span><span class="o">=</span><span class="n">size</span><span class="p">(</span><span class="k">array</span><span class="p">)</span>

      <span class="k">if</span><span class="p">(</span><span class="n">iwords</span><span class="p">.</span><span class="n">gt</span><span class="p">.</span><span class="mi">4</span><span class="p">)</span><span class="k">then</span>
<span class="k">         write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;*days2sec* error: too many values in &#39;</span><span class="o">//</span><span class="nb">trim</span><span class="p">(</span><span class="n">strlocal</span><span class="p">)</span>
         <span class="n">iwords</span><span class="o">=</span><span class="mi">4</span>
      <span class="k">endif</span>

<span class="k">      if</span><span class="p">(</span><span class="nb">index</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">).</span><span class="n">gt</span><span class="p">.</span><span class="mi">0</span><span class="p">)</span><span class="k">then</span>                <span class="c">! found a dash, assume has days and form DD-HH:MM:SS, DD-, DD-HH, DD-HH:MM</span>
         <span class="k">do </span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">iwords</span>
            <span class="nb">time</span><span class="o">=</span><span class="nb">time</span><span class="o">+</span><span class="n">s2v</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">))</span><span class="o">*</span><span class="n">units_hl</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
         <span class="k">enddo</span>
<span class="k">      else</span>                                            <span class="c">! no dash, assume no days, either HH:MM:SS or MM:SS, SS</span>
         <span class="n">icount</span><span class="o">=</span><span class="mi">0</span>
         <span class="k">do </span><span class="n">i</span><span class="o">=</span><span class="n">iwords</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span>
            <span class="n">icount</span><span class="o">=</span><span class="n">icount</span><span class="o">+</span><span class="mi">1</span>
            <span class="n">ilast</span><span class="o">=</span><span class="nb">len_trim</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
            <span class="nb">time</span><span class="o">=</span><span class="nb">time</span><span class="o">+</span><span class="n">s2v</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">))</span><span class="o">*</span><span class="n">units_lh</span><span class="p">(</span><span class="n">icount</span><span class="p">)</span>
         <span class="k">enddo</span>
<span class="k">      endif</span>

<span class="k">      if</span><span class="p">(</span><span class="n">negative</span><span class="p">)</span><span class="nb">time</span><span class="o">=-</span><span class="nb">time</span>

<span class="nb">   </span><span class="k">endif</span>

<span class="k">end function </span><span class="n">days2sec</span>
</pre></div>

    </section>
    <br>
    
    
    </div>
  </div>


    <hr>    
    </div> <!-- /container -->
    <footer>
      <div class="container">
      <div class="row">
        <div class="col-xs-6 col-md-4"><p>&copy; 2021 
                                          </p></div>
        <div class="col-xs-6 col-md-4 col-md-push-4">
          <p class="text-right">
            Documentation generated by 
            <a href="https://github.com/cmacmackin/ford">FORD</a>
             on 2021-09-11 20:08  
          </p>
        </div>
        <div class="col-xs-12 col-md-4 col-md-pull-4"><p class="text-center"> M_time was developed by John S. Urban</p></div>
      </div>
      <br>
      </div> <!-- /container -->    
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
<!--
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
-->
    <script src="../js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../js/ie10-viewport-bug-workaround.js"></script>

    <!-- MathJax JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
        jax: ['input/TeX','input/MathML','output/HTML-CSS'],
        extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
      });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    
    <script src="../tipuesearch/tipuesearch_content.js"></script>
    <script src="../tipuesearch/tipuesearch_set.js"></script>
    <script src="../tipuesearch/tipuesearch.js"></script>
    
    
  </body>
</html>