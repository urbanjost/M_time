<!-- -*- mode: jinja2 -*- -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="Fortran date and time manipulation and presentation">
    <meta name="author" content="John S. Urban" >
    <link rel="icon" href="../favicon.png">

    <title>days2sec &ndash; M_time</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="../css/pygments.css" rel="stylesheet">
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href="../css/local.css" rel="stylesheet">
      <link  href="../tipuesearch/tipuesearch.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="../js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="../index.html">M_time </a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link" href="../lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/types.html">Derived Types</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="../lists/programs.html">Programs</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="../search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <div class="row">
    <h1>days2sec
      <small>Function</small>
      
    </h1>
      <div class="container p-2 mb-4 bg-light border rounded-3">
    <div class="row align-items-center justify-content-between" id="info-bar">
      <div class="col">
        <ul class="list-inline" style="margin-bottom:0px;display:inline">

            <li class="list-inline-item" id="statements"><i class="fa fa-list-ol"></i>
              <a data-bs-toggle="tooltip"
                 data-bs-placement="bottom" data-html="true"
                 title=" 3.4% of total for procedures.">88 statements</a>
            </li>

            <li class="list-inline-item" id="source-file">
              <i class="fa fa-code"></i>
              <a href="../src/M_time.F90"> Source File</a>
            </li>
        </ul>
      </div>
      <div class="col">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb justify-content-end mb-0">
                <li class="breadcrumb-item"><a href='../sourcefile/m_time.f90.html'>M_time.F90</a></li>
                <li class="breadcrumb-item"><a href='../module/m_time.html'>M_time</a></li>
            <li class="breadcrumb-item active" aria-current="page">days2sec</li>
          </ol>
        </nav>
      </div>
    </div>
  </div>
  <script>
    $(function () {
    $('[data-bs-toggle="tooltip"]').tooltip()
    })
  </script>

  </div>
  
  <div class="row">
    <div class="col-md-3 hidden-xs hidden-sm visible-md visible-lg">
      <div id="sidebar">
      <h3>Contents</h3>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
    <div class="card card-primary">
      <div class="card-header text-left"><h3 class="card-title">Source Code</h3></div>
      <div class="list-group">
        <a class="list-group-item" href="../proc/days2sec.html#src">days2sec</a>
      </div>
    </div>


  </div>

    </div>
    
    <div class="col-md-9" id='text'>
    <h2>public impure elemental function days2sec(str) result(time)  
</h2>
    

    <h2 id="name">NAME</h2>
<div class="codehilite"><pre><span></span><code><span class="c">days2sec(3f) </span><span class="nb">-</span><span class="c"> </span><span class="k">[</span><span class="c">M_time:DURATION</span><span class="k">]</span><span class="c"> convert string of form</span>
<span class="k">[[</span><span class="nb">-</span><span class="k">]</span><span class="c">dd</span><span class="nb">-</span><span class="k">]</span><span class="c">hh:mm:ss</span><span class="nt">.</span><span class="c">nn to seconds</span>
<span class="c">(LICENSE:MIT)</span>
</code></pre></div>

<h2 id="synopsis">SYNOPSIS</h2>
<div class="codehilite"><pre><span></span><code>elemental impure function days2sec(str) result(time)

 character(len=*),intent(in)       :: str
 real(kind=realtime)               :: time
</code></pre></div>

<h2 id="description">DESCRIPTION</h2>
<p>Given a string representing a duration of the form
   [-][[[dd-]hh:]mm:]ss or [NNd][NNh][NNm[]NNs][NNw]
   return a value representing seconds.</p>
<p>If &ldquo;dd-&rdquo; is present, units for the numbers are assumed to
   proceed from day to hour to minute to second. But if no
   day is present, the units are assumed to proceed from second
   to minutes to hour from left to right. That is &hellip;</p>
<div class="codehilite"><pre><span></span><code><span class="c">     </span><span class="k">[</span><span class="nb">-</span><span class="k">]</span><span class="c">dd</span><span class="nb">-</span><span class="c">hh:mm:ss</span>
<span class="c">     </span><span class="k">[</span><span class="nb">-</span><span class="k">]</span><span class="c">dd</span><span class="nb">-</span><span class="c">hh:mm</span>
<span class="c">     </span><span class="k">[</span><span class="nb">-</span><span class="k">]</span><span class="c">dd</span><span class="nb">-</span><span class="c">hh</span>

<span class="c">     hh:mm:ss</span>
<span class="c">     mm:ss</span>
<span class="c">     ss</span>

<span class="c">     Where dd is days</span><span class="nt">,</span><span class="c"> hh hours</span><span class="nt">,</span><span class="c"> mm minutes and ss seconds</span><span class="nt">.</span>
</code></pre></div>

<p>A decimal fraction is supported on the seconds (Actually,
   any of the numeric values may represent positive floating
   point numbers). Spaces are ignored.</p>
<p>Simple numeric values may also be used with unit suffixes; where
   s,m,h, or d represents seconds, minutes, hours or days and w
   represents a week. Allowed aliases for w,d,h,m, and s units are</p>
<div class="codehilite"><pre><span></span><code><span class="w">    </span><span class="o">[</span><span class="n">NNd</span><span class="o">][</span><span class="n">NNh</span><span class="o">][</span><span class="n">NNm</span><span class="o">][</span><span class="n">NNs</span><span class="o">][</span><span class="n">NNw</span><span class="o">]</span>

<span class="w">      </span><span class="n">d</span><span class="w"> </span><span class="o">-</span><span class="w">  </span><span class="n">days</span><span class="p">,</span><span class="nf">day</span>
<span class="w">      </span><span class="n">m</span><span class="w"> </span><span class="o">-</span><span class="w">  </span><span class="n">minutes</span><span class="p">,</span><span class="k">minute</span><span class="p">,</span><span class="nf">min</span><span class="p">,</span><span class="n">mins</span>
<span class="w">      </span><span class="n">h</span><span class="w"> </span><span class="o">-</span><span class="w">  </span><span class="n">hours</span><span class="p">,</span><span class="k">hour</span><span class="p">,</span><span class="n">hr</span><span class="p">,</span><span class="n">hrs</span>
<span class="w">      </span><span class="n">s</span><span class="w"> </span><span class="o">-</span><span class="w">  </span><span class="n">seconds</span><span class="p">,</span><span class="k">second</span><span class="p">,</span><span class="n">sec</span><span class="p">,</span><span class="n">secs</span>
<span class="w">      </span><span class="n">w</span><span class="w"> </span><span class="o">-</span><span class="w">  </span><span class="n">week</span><span class="p">,</span><span class="w"> </span><span class="n">weeks</span><span class="p">,</span><span class="w"> </span><span class="n">wk</span><span class="p">,</span><span class="w"> </span><span class="n">wks</span>
</code></pre></div>

<p>The numeric values may represent floating point numbers.</p>
<p>Spaces, commas and case are ignored.</p>
<h2 id="options">OPTIONS</h2>
<div class="codehilite"><pre><span></span><code>   str   string of the general form dd-hh:mm:ss.nn
</code></pre></div>

<h2 id="returns">RETURNS</h2>
<div class="codehilite"><pre><span></span><code>   time  the number of seconds represented by the input string
</code></pre></div>

<h2 id="example">EXAMPLE</h2>
<div class="codehilite"><pre><span></span><code><span class="nx">Sample</span><span class="w"> </span><span class="nx">program</span><span class="p">:</span>

<span class="w"> </span><span class="nx">program</span><span class="w"> </span><span class="nx">demo_days2sec</span>
<span class="w"> </span><span class="nx">use</span><span class="w"> </span><span class="nx">M_time</span><span class="p">,</span><span class="w"> </span><span class="nx">only</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nx">days2sec</span>
<span class="w"> </span><span class="nx">implicit</span><span class="w"> </span><span class="nx">none</span>
<span class="w">    </span><span class="nx">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="nx">days2sec</span><span class="p">(</span><span class="err">&#39;</span><span class="mi">1</span><span class="o">-</span><span class="mi">12</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mi">20</span><span class="err">&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="nx">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="err">&#39;</span><span class="nx">one</span><span class="w"> </span><span class="nx">second</span><span class="w"> </span><span class="err">&#39;</span><span class="p">,</span><span class="nx">days2sec</span><span class="p">(</span><span class="sc">&#39;1&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="nx">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="err">&#39;</span><span class="nx">one</span><span class="w"> </span><span class="nx">minute</span><span class="w"> </span><span class="err">&#39;</span><span class="p">,</span><span class="nx">days2sec</span><span class="p">(</span><span class="err">&#39;</span><span class="mi">1</span><span class="p">:</span><span class="mi">00</span><span class="err">&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="nx">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="err">&#39;</span><span class="nx">one</span><span class="w"> </span><span class="nx">hour</span><span class="w"> </span><span class="err">&#39;</span><span class="p">,</span><span class="nx">days2sec</span><span class="p">(</span><span class="err">&#39;</span><span class="mi">1</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="err">&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="nx">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="err">&#39;</span><span class="nx">one</span><span class="w"> </span><span class="nx">day</span><span class="w"> </span><span class="err">&#39;</span><span class="p">,</span><span class="nx">days2sec</span><span class="p">(</span><span class="err">&#39;</span><span class="mi">1</span><span class="o">-</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="err">&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="nx">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="nx">nint</span><span class="p">(</span><span class="nx">days2sec</span><span class="p">(</span><span class="err">&#39;</span><span class="w"> </span><span class="mi">1</span><span class="o">-</span><span class="mi">12</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mi">20</span><span class="w">              </span><span class="err">&#39;</span><span class="p">))</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">129860</span>
<span class="w">    </span><span class="nx">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="nx">nint</span><span class="p">(</span><span class="nx">days2sec</span><span class="p">(</span><span class="err">&#39;</span><span class="w"> </span><span class="m m-Double">1.5</span><span class="w"> </span><span class="nx">days</span><span class="w">                </span><span class="err">&#39;</span><span class="p">))</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">129600</span>
<span class="w">    </span><span class="nx">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="nx">nint</span><span class="p">(</span><span class="nx">days2sec</span><span class="p">(</span><span class="err">&#39;</span><span class="w"> </span><span class="m m-Double">1.5</span><span class="w"> </span><span class="nx">days</span><span class="w"> </span><span class="mi">4</span><span class="nx">hrs</span><span class="w"> </span><span class="mi">30</span><span class="nx">minutes</span><span class="w"> </span><span class="err">&#39;</span><span class="p">))</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">145800</span>
<span class="w">    </span><span class="nx">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="nx">nint</span><span class="p">(</span><span class="nx">days2sec</span><span class="p">(</span><span class="err">&#39;</span><span class="w"> </span><span class="m m-Double">1.5</span><span class="nx">d</span><span class="w">                    </span><span class="err">&#39;</span><span class="p">))</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">129600</span>
<span class="w">    </span><span class="nx">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="nx">nint</span><span class="p">(</span><span class="nx">days2sec</span><span class="p">(</span><span class="err">&#39;</span><span class="w"> </span><span class="mi">1</span><span class="nx">d2h3m4s</span><span class="w">                </span><span class="err">&#39;</span><span class="p">))</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">93784</span>
<span class="w">    </span><span class="p">!</span><span class="w"> </span><span class="nx">duplicates</span>
<span class="w">    </span><span class="nx">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="nx">nint</span><span class="p">(</span><span class="nx">days2sec</span><span class="p">(</span><span class="err">&#39;</span><span class="w"> </span><span class="mi">1</span><span class="nx">d1d1d</span><span class="w">                  </span><span class="err">&#39;</span><span class="p">))</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">259200</span>
<span class="w">    </span><span class="p">!</span><span class="w"> </span><span class="nx">negative</span><span class="w"> </span><span class="nx">values</span>
<span class="w">    </span><span class="nx">write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="nx">nint</span><span class="p">(</span><span class="nx">days2sec</span><span class="p">(</span><span class="err">&#39;</span><span class="w"> </span><span class="mi">4</span><span class="nx">d</span><span class="o">-</span><span class="mi">12</span><span class="nx">h</span><span class="w">                  </span><span class="err">&#39;</span><span class="p">))</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">302400</span>
<span class="w"> </span><span class="nx">end</span><span class="w"> </span><span class="nx">program</span><span class="w"> </span><span class="nx">demo_days2sec</span>

<span class="nx">Results</span><span class="p">:</span>

<span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="m m-Double">129860.00000000000</span>
<span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="nx">one</span><span class="w"> </span><span class="nx">second</span><span class="w">    </span><span class="m m-Double">1.0000000000000000</span>
<span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="nx">one</span><span class="w"> </span><span class="nx">minute</span><span class="w">    </span><span class="m m-Double">60.000000000000000</span>
<span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="nx">one</span><span class="w"> </span><span class="nx">hour</span><span class="w">    </span><span class="m m-Double">3600.0000000000000</span>
<span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="nx">one</span><span class="w"> </span><span class="nx">day</span><span class="w">    </span><span class="m m-Double">86400.000000000000</span>
<span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="nx">T</span>
<span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="nx">T</span>
<span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="nx">T</span>
<span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="nx">T</span>
<span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="nx">T</span>
<span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="nx">T</span>
<span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="nx">T</span>
</code></pre></div>

<h2 id="author">AUTHOR</h2>
<div class="codehilite"><pre><span></span><code>John S. Urban, 2015
</code></pre></div>

<h2 id="license">LICENSE</h2>
<div class="codehilite"><pre><span></span><code>MIT
</code></pre></div>


    <h3>Arguments</h3>
        <table class="table table-striped varlist">
    <thead>
      <tr>
        <th scope="col">Type</th>
<th scope="col">Intent</th><th scope="col">Optional</th>        <th scope="col">Attributes</th>
        <th scope="col"></th>
        <th scope="col">Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
        <tr>
            <td>
              <span class="anchor" id="variable-str"></span>
              character(len=*),
            </td>
<td>intent(in)</td>
              <td></td>            <td>
              
            </td>
            <td>::</td>
            <td><strong>str</strong></td>
            <td>
                
            </td>
        </tr>
    </tbody>
  </table>

      <h3>Return Value
        <small>
          <span class="anchor" id="variable-time"></span>
          real(kind=realtime)
        </small>
      </h3>
      
    <br>


    
    

    
    



    
    <section>
    <h2><span class="anchor" id="src"></span>Source Code</h2>
    <div class="hl codehilite"><pre><span></span><span class="k">elemental impure function </span><span class="n">days2sec</span><span class="p">(</span><span class="n">str</span><span class="p">)</span><span class="w"> </span><span class="k">result</span><span class="p">(</span><span class="nb">time</span><span class="p">)</span>

<span class="c">! ident_26=&quot;@(#) M_time days2sec(3f) convert string [[-]dd-]hh mm ss.nn to seconds or string IId JJh KKm LLs to seconds&quot;</span>

<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=*</span><span class="p">),</span><span class="k">intent</span><span class="p">(</span><span class="n">in</span><span class="p">)</span><span class="w">       </span><span class="kd">::</span><span class="w"> </span><span class="n">str</span>
<span class="kt">real</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="n">realtime</span><span class="p">)</span><span class="w">               </span><span class="kd">::</span><span class="w"> </span><span class="nb">time</span>
<span class="c">! Supported input syntax:</span>
<span class="c">!    [-]dd-hh:mm:ss</span>
<span class="c">!          hh:mm:ss</span>
<span class="c">!          mm:ss</span>
<span class="c">!          ss</span>
<span class="c">!</span>
<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="p">:),</span><span class="k">allocatable</span><span class="w">      </span><span class="kd">::</span><span class="w"> </span><span class="n">strlocal</span>
<span class="kt">character</span><span class="p">(</span><span class="nb">len</span><span class="o">=</span><span class="p">:),</span><span class="k">allocatable</span><span class="w">      </span><span class="kd">::</span><span class="w"> </span><span class="k">array</span><span class="p">(:)</span>
<span class="kt">real</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="n">realtime</span><span class="p">),</span><span class="w"> </span><span class="k">parameter</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">units_lh</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">=</span><span class="p">[</span><span class="w"> </span><span class="mf">1.0_dp</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="mf">0.0_dp</span><span class="p">,</span><span class="w"> </span><span class="mi">360</span><span class="mf">0.0_dp</span><span class="p">,</span><span class="w"> </span><span class="mi">8640</span><span class="mf">0.0_dp</span><span class="w"> </span><span class="p">]</span>
<span class="kt">real</span><span class="p">(</span><span class="nb">kind</span><span class="o">=</span><span class="n">realtime</span><span class="p">),</span><span class="w"> </span><span class="k">parameter</span><span class="w">    </span><span class="kd">::</span><span class="w"> </span><span class="n">units_hl</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">=</span><span class="p">[</span><span class="w"> </span><span class="mi">8640</span><span class="mf">0.0_dp</span><span class="p">,</span><span class="w"> </span><span class="mi">360</span><span class="mf">0.0_dp</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="mf">0.0_dp</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0_dp</span><span class="w"> </span><span class="p">]</span>
<span class="kt">integer</span><span class="w">                           </span><span class="kd">::</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">icount</span><span class="p">,</span><span class="w"> </span><span class="n">iwords</span><span class="p">,</span><span class="w"> </span><span class="n">ilast</span>
<span class="kt">logical</span><span class="w">                           </span><span class="kd">::</span><span class="w"> </span><span class="n">negative</span>

<span class="w">   </span><span class="nb">time</span><span class="o">=</span><span class="mf">0.0_dp</span>
<span class="w">   </span><span class="n">strlocal</span><span class="o">=</span><span class="n">compact</span><span class="p">(</span><span class="n">str</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="w">                              </span><span class="c">! remove whitespace</span>
<span class="w">   </span><span class="n">strlocal</span><span class="o">=</span><span class="n">transliterate</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s2">&quot;_&#39;,&quot;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="w">             </span><span class="c">! remove single quotes,underscores sometimes used in numbers</span>
<span class="w">   </span><span class="n">strlocal</span><span class="o">=</span><span class="n">lower</span><span class="p">(</span><span class="n">strlocal</span><span class="p">)</span><span class="o">//</span><span class="nb">repeat</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">strlocal</span><span class="p">))</span><span class="w">   </span><span class="c">! change to lowercase and add whitespace to make room for spaces</span>

<span class="w">   </span><span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">strlocal</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span class="k">then</span>
<span class="k">      </span><span class="nb">time</span><span class="o">=</span><span class="mf">0.0_dp</span>
<span class="w">   </span><span class="k">elseif</span><span class="p">(</span><span class="nb">scan</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;smhdw&#39;</span><span class="p">)</span><span class="o">/=</span><span class="mi">0</span><span class="p">)</span><span class="k">then</span><span class="w">               </span><span class="c">! unit code values not DD-HH:MM:SS either plain number or unit numbers</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;days&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">)</span><span class="w">               </span><span class="c">! from long names to short names substitute common aliases for units</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;day&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;hours&#39;</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;hour&#39;</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;hrs&#39;</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;hr&#39;</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;minutes&#39;</span><span class="p">,</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;minute&#39;</span><span class="p">,</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;mins&#39;</span><span class="p">,</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;min&#39;</span><span class="p">,</span><span class="s1">&#39;m&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;seconds&#39;</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;second&#39;</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;secs&#39;</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;sec&#39;</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;weeks&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;week&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;wks&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;wk&#39;</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">)</span>

<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;s&#39;</span><span class="p">,</span><span class="s1">&#39;s &#39;</span><span class="p">)</span><span class="w">          </span><span class="c">! assuming only one suffix character and not too many to exceed length of strlocal</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;m&#39;</span><span class="p">,</span><span class="s1">&#39;m &#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;h&#39;</span><span class="p">,</span><span class="s1">&#39;h &#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="s1">&#39;d &#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">substitute</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;w&#39;</span><span class="p">,</span><span class="s1">&#39;w &#39;</span><span class="p">)</span>
<span class="w">      </span><span class="k">call </span><span class="n">split</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="k">array</span><span class="p">,</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<span class="w">      </span><span class="n">iwords</span><span class="o">=</span><span class="n">size</span><span class="p">(</span><span class="k">array</span><span class="p">)</span>
<span class="w">      </span><span class="n">icount</span><span class="o">=</span><span class="mi">0</span>
<span class="w">      </span><span class="k">do </span><span class="n">i</span><span class="o">=</span><span class="n">iwords</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span>
<span class="w">         </span><span class="n">icount</span><span class="o">=</span><span class="n">icount</span><span class="o">+</span><span class="mi">1</span>
<span class="w">         </span><span class="n">ilast</span><span class="o">=</span><span class="nb">len_trim</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="w">         </span><span class="k">select case</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">)(</span><span class="n">ilast</span><span class="p">:</span><span class="n">ilast</span><span class="p">))</span>
<span class="w">         </span><span class="k">case</span><span class="p">(</span><span class="s1">&#39;w&#39;</span><span class="p">);</span><span class="w"> </span><span class="nb">time</span><span class="o">=</span><span class="nb">time</span><span class="o">+</span><span class="n">s2v</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">)(:</span><span class="n">ilast</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">*</span><span class="n">units_hl</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">7</span>
<span class="w">         </span><span class="k">case</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">);</span><span class="w"> </span><span class="nb">time</span><span class="o">=</span><span class="nb">time</span><span class="o">+</span><span class="n">s2v</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">)(:</span><span class="n">ilast</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">*</span><span class="n">units_hl</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="w">         </span><span class="k">case</span><span class="p">(</span><span class="s1">&#39;h&#39;</span><span class="p">);</span><span class="w"> </span><span class="nb">time</span><span class="o">=</span><span class="nb">time</span><span class="o">+</span><span class="n">s2v</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">)(:</span><span class="n">ilast</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">*</span><span class="n">units_hl</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="w">         </span><span class="k">case</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">);</span><span class="w"> </span><span class="nb">time</span><span class="o">=</span><span class="nb">time</span><span class="o">+</span><span class="n">s2v</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">)(:</span><span class="n">ilast</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">*</span><span class="n">units_hl</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="w">         </span><span class="k">case</span><span class="p">(</span><span class="s1">&#39;s&#39;</span><span class="p">);</span><span class="w"> </span><span class="nb">time</span><span class="o">=</span><span class="nb">time</span><span class="o">+</span><span class="n">s2v</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">)(:</span><span class="n">ilast</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">*</span><span class="n">units_hl</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="w">         </span><span class="k">case </span><span class="n">default</span>
<span class="w">            </span><span class="nb">time</span><span class="o">=</span><span class="nb">time</span><span class="o">+</span><span class="n">s2v</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="w">         </span><span class="k">end select</span>
<span class="k">      enddo</span>
<span class="k">   else</span>

<span class="k">      if</span><span class="p">(</span><span class="n">strlocal</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">)</span><span class="o">==</span><span class="s1">&#39;-&#39;</span><span class="p">)</span><span class="k">then</span><span class="w">          </span><span class="c">! allow negative prefix as first character but remove it and change sign of value at end</span>
<span class="w">         </span><span class="n">negative</span><span class="o">=</span><span class="p">.</span><span class="n">true</span><span class="p">.</span>
<span class="w">         </span><span class="n">strlocal</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">)</span><span class="o">=</span><span class="s1">&#39; &#39;</span>
<span class="w">      </span><span class="k">else</span>
<span class="k">         </span><span class="n">negative</span><span class="o">=</span><span class="p">.</span><span class="n">false</span><span class="p">.</span>
<span class="w">      </span><span class="k">endif</span>

<span class="k">      call </span><span class="n">split</span><span class="p">(</span><span class="nb">trim</span><span class="p">(</span><span class="n">strlocal</span><span class="p">),</span><span class="k">array</span><span class="p">,</span><span class="s1">&#39; -:&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="n">iwords</span><span class="o">=</span><span class="n">size</span><span class="p">(</span><span class="k">array</span><span class="p">)</span>

<span class="w">      </span><span class="k">if</span><span class="p">(</span><span class="n">iwords</span><span class="o">&gt;</span><span class="mi">4</span><span class="p">)</span><span class="k">then</span>
<span class="k">         write</span><span class="p">(</span><span class="o">*</span><span class="p">,</span><span class="o">*</span><span class="p">)</span><span class="s1">&#39;*days2sec* error: too many values in &#39;</span><span class="o">//</span><span class="nb">trim</span><span class="p">(</span><span class="n">strlocal</span><span class="p">)</span>
<span class="w">         </span><span class="n">iwords</span><span class="o">=</span><span class="mi">4</span>
<span class="w">      </span><span class="k">endif</span>

<span class="k">      if</span><span class="p">(</span><span class="nb">index</span><span class="p">(</span><span class="n">strlocal</span><span class="p">,</span><span class="s1">&#39;-&#39;</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="k">then</span><span class="w">                </span><span class="c">! found a dash, assume has days and form DD-HH:MM:SS, DD-, DD-HH, DD-HH:MM</span>
<span class="w">         </span><span class="k">do </span><span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">iwords</span>
<span class="w">            </span><span class="nb">time</span><span class="o">=</span><span class="nb">time</span><span class="o">+</span><span class="n">s2v</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">))</span><span class="o">*</span><span class="n">units_hl</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="w">         </span><span class="k">enddo</span>
<span class="k">      else</span><span class="w">                                            </span><span class="c">! no dash, assume no days, either HH:MM:SS or MM:SS, SS</span>
<span class="w">         </span><span class="n">icount</span><span class="o">=</span><span class="mi">0</span>
<span class="w">         </span><span class="k">do </span><span class="n">i</span><span class="o">=</span><span class="n">iwords</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span>
<span class="w">            </span><span class="n">icount</span><span class="o">=</span><span class="n">icount</span><span class="o">+</span><span class="mi">1</span>
<span class="w">            </span><span class="n">ilast</span><span class="o">=</span><span class="nb">len_trim</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">))</span>
<span class="w">            </span><span class="nb">time</span><span class="o">=</span><span class="nb">time</span><span class="o">+</span><span class="n">s2v</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="n">i</span><span class="p">))</span><span class="o">*</span><span class="n">units_lh</span><span class="p">(</span><span class="n">icount</span><span class="p">)</span>
<span class="w">         </span><span class="k">enddo</span>
<span class="k">      endif</span>

<span class="k">      if</span><span class="p">(</span><span class="n">negative</span><span class="p">)</span><span class="nb">time</span><span class="o">=-</span><span class="nb">time</span>

<span class="nb">   </span><span class="k">endif</span>

<span class="k">end function </span><span class="n">days2sec</span>
</pre></div>

    </section>
    <br>
    
    </div>
  </div>

      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col"><p>M_time was developed by John S. Urban<br>&copy; 2024 
</p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
 on 2024-03-29 03:46              </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>    

    <!-- MathJax JavaScript
             ================================================== -->
             <!-- Placed at the end of the document so the pages load faster -->
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
          TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
          jax: ['input/TeX','input/MathML','output/HTML-CSS'],
          extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
          });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

          <script src="../tipuesearch/tipuesearch_content.js"></script>
          <script src="../tipuesearch/tipuesearch_set.js"></script>
          <script src="../tipuesearch/tipuesearch.js"></script>

  </body>
</html>