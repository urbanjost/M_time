################################################################################
# NOTE:
# must specify optional --target and quote option strings starting with dash
################################################################################
# os: [ubuntu-latest, macos-latest, windows-latest]
# compiler: [gfortran, ifx, lfortran, flang-new, nvfortran]
################################################################################
@test_ubuntu-latest_gfortran
option test  --target '*' --compiler gfortran 
@test_ubuntu-latest_ifx
option test  --target '*' --compiler ifx 
@test_ubuntu-latest_lfortran
option test  --target '*' --compiler lfortran --flag="--no-style-warnings --cpp"
@test_ubuntu-latest_flang-new
option test  --target '*' --compiler flang-new 
@test_ubuntu-latest_nvfortran
option test  --target '*' --compiler nvfortran 
#------------------------------------------------------------------------------#
@test_macos-latest_gfortran
option test  --target '*' --compiler gfortran 
@test_macos-latest_ifx
option test  --target '*' --compiler ifx 
@test_macos-latest_lfortran
option test  --target '*' --compiler lfortran --flag="--no-style-warnings --cpp"
@test_macos-latest_flang-new
option test  --target '*' --compiler flang-new 
@test_macos-latest_nvfortran
option test  --target '*' --compiler nvfortran 
#------------------------------------------------------------------------------#
# --flags="-D_WIN32 -Wall -Wextra -fmax-errors=1 -g -fcheck=bounds -fcheck=array-temps -fbacktrace -fcoarray=single -fimplicit-none -Werror=implicit-interface" 
# --flags="-D_WIN32 -O3 -funroll-loops -Wimplicit-interface -fmax-errors=1 -fcoarray=single -fimplicit-none -Werror=implicit-interface -ffree-form" 
#------------------------------------------------------------------------------#
@test_windows-latest_gfortran
option test  --target '*' --compiler gfortran   --flag="_WIN32"
@test_windows-latest_ifx
option test  --target '*' --compiler ifx        --flag="_WIN32"
@test_windows-latest_lfortran
option test  --target '*' --compiler lfortran   --flag="_WIN32" --flag="--no-style-warnings --cpp"
@test_windows-latest_flang-new
option test  --target '*' --compiler flang-new  --flag="_WIN32"
@test_windows-latest_nvfortran
option test  --target '*' --compiler nvfortran  --flag="_WIN32"
#------------------------------------------------------------------------------#
################################################################################
@declare2
> found it
################################################################################
@debugg
option build  --target '*' 
option  --compiler gfortran --profile debug 
option  --flag '-fdump-fortran-global' 
option  --link-flag '-fdump-fortran-global' 
option  --verbose
################################################################################
@rung
print  run all apps with gfortran
# note --target is required in a response file
option run  --target '*' --compiler gfortran --profile release
################################################################################
@testi
print  run test apps with ifx
option test  --target '*' --compiler ifx --profile release --verbose
################################################################################
@runi
print  run all apps with ifx
option run  --target '*' --compiler ifx --profile release
################################################################################
@runn
system banner RUNN
option run --compiler nvfortran --flag "-cuda -Mpreprocess"

@buildn
option build --compiler nvfortran --flag "-cuda -Mpreprocess"

@testn
option test --compiler nvfortran --flag "-cuda -Mpreprocess"
################################################################################
@box_month
options run --target demo_box_month --example --profile release --verbose
